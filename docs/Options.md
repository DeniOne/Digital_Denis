# AI Control & Rules Engine
## Концептуальная модель управления ИИ в проекте «Цифровой Денис»

---

## 1. Назначение документа

Данный документ описывает систему управления поведением ИИ (далее — AI Control),
включая:

- модель автономности ИИ
- контракт взаимодействия с пользователем
- систему правил (Rules Engine)
- контекстное и глобальное управление мышлением ИИ

Цель:  
создать **настраиваемый цифровой разум**, а не просто чат-ассистент.

---

## 2. Базовая философия

ИИ в системе «Цифровой Денис» — это:

- не персонаж
- не инструмент в узком смысле
- не автономный агент без контроля

ИИ — это **когнитивный модуль**, работающий по контракту,
который пользователь может изменять в любой момент.

> Пользователь управляет *как* ИИ думает,  
> ИИ управляет *что* он замечает и предлагает.

---

## 3. Архитектура AI Control (высокий уровень)

AI Control
├─ Поведение ИИ (Behavior)
├─ Автономность и контроль (Autonomy)
├─ Память и контекст (Memory)
├─ Аналитика и инсайты (Analytics)
└─ Rules Engine (Правила)
├─ Глобальные правила
└─ Контекстные правила


---

## 4. Поведение ИИ (Behavior)

### 4.1 Роль ИИ по умолчанию

Один активный режим мышления:

- Partner.Strategic — партнёр-стратег
- Analyst.Logical — логический аналитик
- Coach.Socratic — коуч (вопросы > ответы)
- Recorder.Passive — фиксатор
- Explorer.Hypothesis — исследователь гипотез

Роль влияет на:
- тип ответов
- форму аргументации
- допустимость возражений
- глубину анализа

---

### 4.2 Стиль мышления (параметры)

- Depth: shallow | structured | systemic | philosophical
- Speed vs Accuracy
- Practical vs Conceptual
- Short vs Detailed

---

### 4.3 Допустимость конфронтации

- none — не спорить
- soft — мягко указывать риски
- argumented — аргументированно возражать
- hard — останавливать логические ошибки

---

## 5. Автономность и контроль (Autonomy)

### 5.1 Инициатива ИИ

- request_only — только по запросу
- suggest — предлагать идеи
- warn — указывать на проблемы
- proactive — самостоятельно формировать инсайты

---

### 5.2 Частота вмешательства

- realtime (в чате)
- post_session
- daily_review
- anomaly_detected

---

### 5.3 Разрешённые действия

- create_decisions
- link_memories
- refactor_thoughts
- challenge_beliefs ⚠️

---

## 6. Память и контекст (Memory)

### 6.1 Типы сохраняемой информации

- facts
- decisions
- hypotheses
- emotional_states
- behavioral_patterns

---

### 6.2 Политика хранения

- save_all
- save_confirmed
- save_marked
- auto_archive (N days)

---

### 6.3 Доверие к памяти

Определяет, может ли ИИ:
- ссылаться на прошлые мысли
- использовать их в споре
- выявлять противоречия

Уровни:
- none
- cautious
- trusted

---

## 7. Аналитика и инсайты (Analytics)

### 7.1 Типы анализа

- logical_contradictions
- recurring_topics
- trend_deviation
- cognitive_biases
- focus_loss

---

### 7.2 Агрессивность аналитики

- inform
- recommend
- warn
- demand_attention

---

## 8. Rules Engine (ключевая часть)

Rules Engine — это система правил,
которые пользователь формулирует **своими словами**,
аналогично rules / instructions в IDE.

---

### 8.1 Назначение правил

Правила позволяют:

- управлять тоном общения
- задавать границы допустимого
- фиксировать личные принципы мышления
- переопределять поведение ИИ без изменения кода

---

## 9. Типы правил

### 9.1 Глобальные правила (Global Rules)

Применяются всегда, во всех контекстах.

Примеры:
- «Не соглашайся со мной автоматически»
- «Если есть логическая ошибка — укажи»
- «Говори со мной как с равным партнёром»
- «Не упрощай, если вопрос системный»

Характеристики:
- действуют постоянно
- имеют высший приоритет
- могут конфликтовать с контекстными правилами

---

### 9.2 Контекстные правила (Context Rules)

Применяются:
- к теме
- к проекту
- к сессии
- к режиму работы

Примеры:
- «В этой теме будь максимально прагматичен»
- «В проекте X не предлагай философию»
- «В этом чате задавай больше вопросов»
- «Сейчас мне нужен только результат, без рассуждений»

---

## 10. Структура правила (концептуально)

Каждое правило состоит из:

- scope: global | context
- trigger: always | topic | mode | session
- instruction: свободный текст пользователя
- priority: low | normal | high
- active: true | false

Правило **не обязано быть формализованным** —
ИИ интерпретирует его семантически.

---

## 11. Приоритет правил

1. Системные ограничения
2. Глобальные правила пользователя
3. Контекстные правила
4. Активный режим мышления
5. Поведенческие параметры

---

## 12. UX-принцип работы с правилами

Rules должны:
- редактироваться как код (IDE-подобно)
- поддерживать быстрые правки
- быть видимыми ИИ в реальном времени
- не требовать «правильной формулировки»

> Главное: **правило — это мысль пользователя, а не команда**

---

## 13. Итог

AI Control — это:
- не настройки
- не personality
- не prompt

Это **живая система управления мышлением ИИ**,
адаптирующаяся под человека, а не наоборот.

